<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Drawing App</title>
    <style>
        canvas {
            border: 1px solid black;
        }
    </style>
</head>
<body>
    <canvas id="canvas" width="800" height="600"></canvas>
    <div>
        <label for="brushSize">Brush Size:</label>
        <input type="range" id="brushSize" min="1" max="20" value="5">
        <input type="color" id="brushColor" value="#000000">

	<label for="brushTexture">Brush Texture:</label>
        <select id="brushTexture">
            <option value="texture1">Texture 1</option>
            <option value="texture2">Texture 2</option>
            <!-- Add more texture options here -->
        </select>
	 <button id="addLayer">Add Layer</button>
	<button id="removeLayer">Remove Layer</button>
	<select id="layerSelect"></select>
    </div>
    <script>
      const canvas = document.getElementById("canvas");
      const context = canvas.getContext("2d");
      const brushSizeInput = document.getElementById("brushSize");
      const brushColorInput = document.getElementById("brushColor");

      let isDrawing = false;
      let layers = []; // Array to store layers
      let activeLayerIndex = 0; // Index of the active layer


      // Attach layer functions to buttons
      addLayerButton.addEventListener("click", addLayer);
      removeLayerButton.addEventListener("click", removeLayer);

      // Attach layer selection
      layerSelect.addEventListener("change", (event) => {
	  setActiveLayer(parseInt(event.target.value));
      });

      function startDrawing(e) {
	  isDrawing = true;
	  draw(e);
      }

      function stopDrawing() {
	  isDrawing = false;
	  context.beginPath();
      }

      function draw(e) {
	  if (!isDrawing) return;

	  const brushSize = brushSizeInput.value;
	  const brushColor = brushColorInput.value;

	  // Set the brush texture based on the user's selection
	  brushTexture = brushTextureSelect.value;
	  
	  context.lineWidth = brushSize;
	  // context.lineWidth = brushSize / zoomLevel; // Adjust line width 
	  context.lineCap = "round";
	  context.strokeStyle = brushColor;

	  context.lineTo(e.clientX - canvas.offsetLeft, e.clientY - canvas.offsetTop);
	  context.stroke();
	  context.beginPath();
	  context.moveTo(e.clientX - canvas.offsetLeft, e.clientY - canvas.offsetTop);
      }

      canvas.addEventListener("mousedown", startDrawing);
      canvas.addEventListener("mouseup", stopDrawing);
      canvas.addEventListener("mousemove", draw);
    </script>
</body>
</html>
